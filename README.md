# Лабораторная работа №2

## Управление данными

Это программа для управления однотабличной базой данных, которая предоставляет интерфейс для добавления, удаления, редактирования и поиска записей в базе данных. Кроме того, доступно создание резервных копий БД и их загрузка, экспорт в CSV и очистка БД. 

Приложение не копирует данные из файлов БД, а работает с ними напрямую, осуществляя все операции онлайн. Записи в json-файлах перебираются линейно.

Программа использует библиотеку TinyDB для работы с JSON-файлами в качестве базы данных, а интерфейс создан с помощью библиотеки Tkinter.

В файле database.json приложена тестовая база данных в нужном формате.

![Untitled](https://github.com/temyablokov/TinyDatabase/assets/119895350/1602d315-0ab7-42d3-b5ef-f0e2476fa3a2)

### **Структура базы данных:**

База данных имеет единственную таблицу с полями:

- **`order_id`** (int): Идентификатор заказа.
- **`customer_id`** (int): Идентификатор клиента.
- **`amount`** (float): Сумма заказа.
- **`date`** (str): Дата заказа в формате 'YYYY-MM-DD'.
- **`status`** (str): Статус заказа.
- **`delivery_address`** (str): Адрес доставки.

### **Функционал программы:**

1. **Открытие и создание базы данных:**
    - Программа позволяет открыть существующую базу данных (выбор файла JSON) или создать новую базу данных.
2. **Табличное отображение базы данных прямо в приложении**
3. **Добавление записей:**
    - Пользователь может добавлять новые записи в базу данных, предоставляя значения для всех полей.
4. **Удаление записей:**
    - Пользователь может удалять записи по значению выбранного поля.
5. **Поиск записей:**
    - Поиск записей по значению выбранного поля.
6. **Редактирование записей:**
    - Пользователь может редактировать существующие записи, выбрав поле, значение поля для поиска и новые значения для замены.
7. **Экспорт в CSV:**
    - Экспорт данных в формат CSV.
8. **Очистка базы данных:**
    - Пользователь может очищать всю базу данных, удаляя все записи.

### **Как работают функции:**

- **Открытие и создание базы данных:**
    
    ![Untitled (1)](https://github.com/temyablokov/TinyDatabase/assets/119895350/0013a251-4a8c-4db9-8554-960dc64a4ef3)

    - Пользователь выбирает существующий файл JSON или создает новый.
    - Если файл существует, программа открывает базу данных.
- **Добавление записей:**
    - Пользователь вводит значения для всех полей новой записи.
    - Программа проверяет, нет ли записи с таким **`order_id`**, и добавляет новую запись в базу данных.
    - Если запись не соответстует типу данных или формату, выдается ошибка
    
    ![Untitled (2)](https://github.com/temyablokov/TinyDatabase/assets/119895350/bf2d23ae-e673-4388-8d57-45aba1b19615)

    
- **Удаление записей:**
    - Пользователь выбирает поле из раскрывающегося списка и значение поля, по которому нужно удалить запись.
    - Программа удаляет все записи соответствующим значением в выбранном поле.
    
    (![Untitled (3)](https://github.com/temyablokov/TinyDatabase/assets/119895350/18b32518-10e6-48d9-9f4b-9f19e15340e7))
    
- **Поиск записей:**
    - Пользователь выбирает поле и вводит значение поля, по которому нужно найти записи.
    - Программа выводит результаты поиска.
    
    ![Untitled (4)](https://github.com/temyablokov/TinyDatabase/assets/119895350/0095327d-3afb-45df-bd86-37cd176a3d60)
    
- **Редактирование записей:**
    - Пользователь выбирает поле, вводит значение для поиска и новые значения для замены.
    - Программа находит записи с соответствующим старым значением и заменяет поля новыми значениями. При этом, некоторые значения не будут заполнены, они останутся без изменения, как в изначальной записи
    
*Старые значения*
    

![Untitled (5)](https://github.com/temyablokov/TinyDatabase/assets/119895350/48ce55a0-65b0-4cb6-a853-06293521b40e)

![Untitled (6)](https://github.com/temyablokov/TinyDatabase/assets/119895350/5c4d0696-60db-489b-bb4a-d488389be301)

*Новые значения*

![Untitled (7)](https://github.com/temyablokov/TinyDatabase/assets/119895350/a1fb7561-792c-4397-8fbb-293033670da7)


- **Экспорт в CSV и XLSX:**
    - Открывается окно для создания файла
    
    ![Untitled (8)](https://github.com/temyablokov/TinyDatabase/assets/119895350/04dc9469-5db1-49cf-b931-d1925abd5869)

    
    - Программа сохраняет данные в выбранный пользователем файл в формате CSV
    
    ![Untitled (9)](https://github.com/temyablokov/TinyDatabase/assets/119895350/19be5f5a-3ab5-4dab-b22f-a1f1321a3366)

- Создание и восстановления резервной копии:
    - Открывается окно для создания файла-копии, создается копия по адресу
    - Открывается окно выбора файла-копии, файл загружается в программу
    
   ![Untitled (10)](https://github.com/temyablokov/TinyDatabase/assets/119895350/bf21a842-7416-40e5-9761-5a633871d43c)

    
- **Очистка базы данных:**
    - Пользователь нажимает на кнопку "Очистить базу данных".
    
    ![Untitled (11)](https://github.com/temyablokov/TinyDatabase/assets/119895350/cef322e8-7f9b-4b60-9f6d-0d3c49bacafe)

    
    - Программа удаляет все записи из базы данных.
